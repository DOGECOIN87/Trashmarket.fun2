# Trashmarket.fun Gorbagana-Only Conversion Prompt

## Overview

Convert the existing Trashmarket.fun NFT marketplace from a dual-network (Solana/Gorbagana) dapp to a **Gorbagana-only** marketplace. This involves removing the network toggle, updating all network references, and implementing wallet integration for Gorbagana-compatible wallets.

**Repository:** https://github.com/DOGECOIN87/Trashmarket.fun.git
**Branch:** main

---

## Network Configuration

Use these exact values throughout the codebase:

| Setting | Value |
|---------|-------|
| RPC Endpoint | `https://rpc.gorbagana.wtf` |
| Block Explorer | `https://trashscan.io` |
| Currency Symbol | `GOR` |
| Display Symbol | `G` |
| Decimals | `9` |
| Network Label | `Gorbagana_L2` |
| Performance Metric | `GPS` (Gorbagana Per Second) |

---

## Files to Create/Update

### 1. `src/contexts/NetworkContext.tsx`

Create a Gorbagana-only network context. **Remove any network toggle functionality** - there should be no option to switch networks.

```tsx
import React, { createContext, useContext } from 'react';

// Gorbagana Network Configuration
export const GORBAGANA_CONFIG = {
  name: 'Gorbagana',
  chainId: 'gorbagana-mainnet',
  rpcEndpoint: 'https://rpc.gorbagana.wtf',
  explorerUrl: 'https://trashscan.io',
  currency: {
    symbol: 'GOR',
    decimals: 9,
    displaySymbol: 'G',
  },
  networkLabel: 'Gorbagana_L2',
  tpsLabel: 'GPS', // Gorbagana Per Second
};

interface NetworkContextType {
  network: 'GOR';
  currency: string;
  networkName: string;
  tpsLabel: string;
  accentColor: string;
  rpcEndpoint: string;
  explorerUrl: string;
  getExplorerLink: (type: 'tx' | 'address' | 'token', value: string) => string;
}

const NetworkContext = createContext<NetworkContextType | undefined>(undefined);

export const NetworkProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const network = 'GOR' as const;
  const currency = GORBAGANA_CONFIG.currency.displaySymbol;
  const networkName = GORBAGANA_CONFIG.networkLabel;
  const tpsLabel = GORBAGANA_CONFIG.tpsLabel;
  const accentColor = 'text-magic-green';
  const rpcEndpoint = GORBAGANA_CONFIG.rpcEndpoint;
  const explorerUrl = GORBAGANA_CONFIG.explorerUrl;

  const getExplorerLink = (type: 'tx' | 'address' | 'token', value: string): string => {
    const baseUrl = GORBAGANA_CONFIG.explorerUrl;
    switch (type) {
      case 'tx':
        return `${baseUrl}/tx/${value}`;
      case 'address':
        return `${baseUrl}/address/${value}`;
      case 'token':
        return `${baseUrl}/token/${value}`;
      default:
        return baseUrl;
    }
  };

  return (
    <NetworkContext.Provider value={{ 
      network, 
      currency, 
      networkName, 
      tpsLabel, 
      accentColor,
      rpcEndpoint,
      explorerUrl,
      getExplorerLink
    }}>
      {children}
    </NetworkContext.Provider>
  );
};

export const useNetwork = () => {
  const context = useContext(NetworkContext);
  if (!context) throw new Error('useNetwork must be used within NetworkProvider');
  return context;
};
```

---

### 2. `src/contexts/WalletContext.tsx`

Create wallet context supporting **Backpack** and **Gorbag Wallet** with auto-reconnect, balance fetching, and account change detection.

```tsx
import React, { createContext, useContext, useState, useCallback, useEffect } from 'react';
import { GORBAGANA_CONFIG } from './NetworkContext';

// Wallet Types
type WalletType = 'backpack' | 'gorbag' | null;

interface WalletState {
  connected: boolean;
  address: string | null;
  walletType: WalletType;
  balance: number | null;
}

interface WalletContextType extends WalletState {
  connect: (walletType: WalletType) => Promise<void>;
  disconnect: () => void;
  isConnecting: boolean;
  error: string | null;
  formatAddress: (address: string) => string;
  availableWallets: { id: WalletType; name: string; icon: string; installed: boolean }[];
}

const WalletContext = createContext<WalletContextType | undefined>(undefined);

// Check if wallet extensions are installed
const checkWalletInstalled = (walletType: WalletType): boolean => {
  if (typeof window === 'undefined') return false;
  
  switch (walletType) {
    case 'backpack':
      return !!(window as any).backpack?.gorbagana || !!(window as any).backpack;
    case 'gorbag':
      return !!(window as any).gorbag || !!(window as any).gorbagWallet;
    default:
      return false;
  }
};

// Get wallet provider
const getWalletProvider = (walletType: WalletType) => {
  if (typeof window === 'undefined') return null;
  
  switch (walletType) {
    case 'backpack':
      return (window as any).backpack?.gorbagana || (window as any).backpack;
    case 'gorbag':
      return (window as any).gorbag || (window as any).gorbagWallet;
    default:
      return null;
  }
};

export const WalletProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const [walletState, setWalletState] = useState<WalletState>({
    connected: false,
    address: null,
    walletType: null,
    balance: null,
  });
  const [isConnecting, setIsConnecting] = useState(false);
  const [error, setError] = useState<string | null>(null);

  // Available wallets configuration
  const availableWallets: WalletContextType['availableWallets'] = [
    {
      id: 'backpack',
      name: 'Backpack',
      icon: 'ðŸŽ’',
      installed: checkWalletInstalled('backpack'),
    },
    {
      id: 'gorbag',
      name: 'Gorbag Wallet',
      icon: 'ðŸ—‘ï¸',
      installed: checkWalletInstalled('gorbag'),
    },
  ];

  // Format address for display (e.g., "5Gh7...xZ9k")
  const formatAddress = useCallback((address: string): string => {
    if (!address || address.length < 8) return address;
    return `${address.slice(0, 4)}...${address.slice(-4)}`;
  }, []);

  // Fetch balance from RPC
  const fetchBalance = useCallback(async (address: string): Promise<number | null> => {
    try {
      const response = await fetch(GORBAGANA_CONFIG.rpcEndpoint, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          jsonrpc: '2.0',
          id: 1,
          method: 'getBalance',
          params: [address],
        }),
      });
      
      const data = await response.json();
      if (data.result?.value !== undefined) {
        // Convert from lamports to GOR (assuming 9 decimals like Solana)
        return data.result.value / Math.pow(10, GORBAGANA_CONFIG.currency.decimals);
      }
      return null;
    } catch (err) {
      console.error('Failed to fetch balance:', err);
      return null;
    }
  }, []);

  // Connect wallet
  const connect = useCallback(async (walletType: WalletType) => {
    if (!walletType) return;
    
    setIsConnecting(true);
    setError(null);

    try {
      const provider = getWalletProvider(walletType);
      
      if (!provider) {
        // Wallet not installed - provide install links
        const installUrls: Record<string, string> = {
          backpack: 'https://www.backpack.app/',
          gorbag: 'https://gorbagana.wtf/wallet', // Placeholder URL
        };
        
        throw new Error(`${walletType === 'backpack' ? 'Backpack' : 'Gorbag Wallet'} not detected. Please install it from ${installUrls[walletType]}`);
      }

      // Request connection
      const response = await provider.connect();
      const address = response?.publicKey?.toString() || response?.address || response;
      
      if (!address) {
        throw new Error('Failed to get wallet address');
      }

      // Fetch balance
      const balance = await fetchBalance(address);

      setWalletState({
        connected: true,
        address,
        walletType,
        balance,
      });

      // Store last used wallet
      localStorage.setItem('gorbagana_last_wallet', walletType);
      
    } catch (err: any) {
      console.error('Wallet connection error:', err);
      setError(err.message || 'Failed to connect wallet');
      setWalletState({
        connected: false,
        address: null,
        walletType: null,
        balance: null,
      });
    } finally {
      setIsConnecting(false);
    }
  }, [fetchBalance]);

  // Disconnect wallet
  const disconnect = useCallback(() => {
    const provider = getWalletProvider(walletState.walletType);
    
    if (provider?.disconnect) {
      try {
        provider.disconnect();
      } catch (err) {
        console.error('Error disconnecting:', err);
      }
    }

    setWalletState({
      connected: false,
      address: null,
      walletType: null,
      balance: null,
    });
    
    localStorage.removeItem('gorbagana_last_wallet');
    setError(null);
  }, [walletState.walletType]);

  // Auto-reconnect on mount if previously connected
  useEffect(() => {
    const lastWallet = localStorage.getItem('gorbagana_last_wallet') as WalletType;
    if (lastWallet && checkWalletInstalled(lastWallet)) {
      // Small delay to ensure wallet extension is loaded
      const timer = setTimeout(() => {
        connect(lastWallet);
      }, 500);
      return () => clearTimeout(timer);
    }
  }, [connect]);

  // Listen for account changes
  useEffect(() => {
    const provider = getWalletProvider(walletState.walletType);
    
    if (provider && walletState.connected) {
      const handleAccountChange = () => {
        // Reconnect to get new address
        connect(walletState.walletType);
      };

      const handleDisconnect = () => {
        disconnect();
      };

      provider.on?.('accountChanged', handleAccountChange);
      provider.on?.('disconnect', handleDisconnect);

      return () => {
        provider.off?.('accountChanged', handleAccountChange);
        provider.off?.('disconnect', handleDisconnect);
      };
    }
  }, [walletState.walletType, walletState.connected, connect, disconnect]);

  return (
    <WalletContext.Provider
      value={{
        ...walletState,
        connect,
        disconnect,
        isConnecting,
        error,
        formatAddress,
        availableWallets,
      }}
    >
      {children}
    </WalletContext.Provider>
  );
};

export const useWallet = () => {
  const context = useContext(WalletContext);
  if (!context) throw new Error('useWallet must be used within WalletProvider');
  return context;
};
```

---

### 3. `src/utils/gorbaganaRPC.ts`

Create a full RPC client for Gorbagana network operations:

```tsx
import { GORBAGANA_CONFIG } from '../contexts/NetworkContext';

// Types for RPC responses
interface RpcResponse<T> {
  jsonrpc: string;
  id: number;
  result?: T;
  error?: {
    code: number;
    message: string;
  };
}

interface BalanceResult {
  value: number;
}

interface AccountInfo {
  data: string[];
  executable: boolean;
  lamports: number;
  owner: string;
  rentEpoch: number;
}

interface TokenAccount {
  pubkey: string;
  account: {
    data: {
      parsed: {
        info: {
          mint: string;
          owner: string;
          tokenAmount: {
            amount: string;
            decimals: number;
            uiAmount: number;
          };
        };
        type: string;
      };
      program: string;
      space: number;
    };
    executable: boolean;
    lamports: number;
    owner: string;
  };
}

// Gorbagana RPC Client
class GorbaganaRPC {
  private endpoint: string;
  private requestId: number = 0;

  constructor(endpoint: string = GORBAGANA_CONFIG.rpcEndpoint) {
    this.endpoint = endpoint;
  }

  private async request<T>(method: string, params: any[] = []): Promise<T> {
    this.requestId++;
    
    try {
      const response = await fetch(this.endpoint, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({
          jsonrpc: '2.0',
          id: this.requestId,
          method,
          params,
        }),
      });

      if (!response.ok) {
        throw new Error(`HTTP error: ${response.status}`);
      }

      const data: RpcResponse<T> = await response.json();

      if (data.error) {
        throw new Error(`RPC error: ${data.error.message}`);
      }

      return data.result as T;
    } catch (error) {
      console.error(`RPC request failed (${method}):`, error);
      throw error;
    }
  }

  // Get account balance in GOR
  async getBalance(address: string): Promise<number> {
    const result = await this.request<BalanceResult>('getBalance', [address]);
    return result.value / Math.pow(10, GORBAGANA_CONFIG.currency.decimals);
  }

  // Get account info
  async getAccountInfo(address: string): Promise<AccountInfo | null> {
    const result = await this.request<{ value: AccountInfo | null }>('getAccountInfo', [
      address,
      { encoding: 'base64' },
    ]);
    return result.value;
  }

  // Get recent blockhash for transactions
  async getRecentBlockhash(): Promise<{ blockhash: string; lastValidBlockHeight: number }> {
    const result = await this.request<{
      value: { blockhash: string; lastValidBlockHeight: number };
    }>('getLatestBlockhash', [{ commitment: 'finalized' }]);
    return result.value;
  }

  // Get token accounts by owner (for NFTs)
  async getTokenAccountsByOwner(
    owner: string,
    programId: string = 'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA' // Token Program ID
  ): Promise<TokenAccount[]> {
    const result = await this.request<{ value: TokenAccount[] }>('getTokenAccountsByOwner', [
      owner,
      { programId },
      { encoding: 'jsonParsed' },
    ]);
    return result.value;
  }

  // Get NFTs owned by an address (tokens with amount = 1)
  async getNFTsByOwner(owner: string): Promise<TokenAccount[]> {
    const tokens = await this.getTokenAccountsByOwner(owner);
    return tokens.filter(
      (token) => 
        token.account.data.parsed.info.tokenAmount.uiAmount === 1 &&
        token.account.data.parsed.info.tokenAmount.decimals === 0
    );
  }

  // Send transaction
  async sendTransaction(signedTransaction: string): Promise<string> {
    const signature = await this.request<string>('sendTransaction', [
      signedTransaction,
      { encoding: 'base64', preflightCommitment: 'confirmed' },
    ]);
    return signature;
  }

  // Confirm transaction
  async confirmTransaction(
    signature: string,
    timeout: number = 30000
  ): Promise<boolean> {
    const start = Date.now();
    
    while (Date.now() - start < timeout) {
      try {
        const result = await this.request<{
          value: { confirmationStatus: string; err: any } | null;
        }>('getSignatureStatuses', [[signature]]);

        if (result.value?.[0]) {
          const status = result.value[0];
          if (status.err) {
            throw new Error(`Transaction failed: ${JSON.stringify(status.err)}`);
          }
          if (status.confirmationStatus === 'confirmed' || status.confirmationStatus === 'finalized') {
            return true;
          }
        }
      } catch (error) {
        // Continue polling
      }

      await new Promise((resolve) => setTimeout(resolve, 1000));
    }

    throw new Error('Transaction confirmation timeout');
  }

  // Get current slot
  async getSlot(): Promise<number> {
    return this.request<number>('getSlot');
  }

  // Get block time
  async getBlockTime(slot: number): Promise<number | null> {
    return this.request<number | null>('getBlockTime', [slot]);
  }

  // Health check
  async isHealthy(): Promise<boolean> {
    try {
      await this.getSlot();
      return true;
    } catch {
      return false;
    }
  }
}

// Export singleton instance
export const gorbaganaRPC = new GorbaganaRPC();

// Export class for custom instances
export { GorbaganaRPC };

// Helper to format GOR amounts
export const formatGOR = (amount: number, decimals: number = 2): string => {
  return `${amount.toFixed(decimals)} ${GORBAGANA_CONFIG.currency.displaySymbol}`;
};

// Helper to get explorer links
export const getExplorerLink = (type: 'tx' | 'address' | 'token', value: string): string => {
  const baseUrl = GORBAGANA_CONFIG.explorerUrl;
  switch (type) {
    case 'tx':
      return `${baseUrl}/tx/${value}`;
    case 'address':
      return `${baseUrl}/address/${value}`;
    case 'token':
      return `${baseUrl}/token/${value}`;
    default:
      return baseUrl;
  }
};
```

---

### 4. `src/components/Navbar.tsx`

Update the Navbar to:
- **Remove the network toggle entirely**
- Show Gorbagana network status with GPS (Gorbagana Per Second) simulation
- Include wallet connection modal supporting Backpack and Gorbag wallets
- Link to Trashscan explorer

```tsx
import React, { useState, useEffect } from 'react';
import { Link, useLocation } from 'react-router-dom';
import { Search, Menu, X, Wallet, Trash2, Activity, ExternalLink } from 'lucide-react';
import { useNetwork, GORBAGANA_CONFIG } from '../contexts/NetworkContext';
import { useWallet } from '../contexts/WalletContext';

// Wallet Selection Modal Component
const WalletModal: React.FC<{ isOpen: boolean; onClose: () => void }> = ({ isOpen, onClose }) => {
  const { connect, isConnecting, error, availableWallets } = useWallet();

  if (!isOpen) return null;

  const handleConnect = async (walletType: 'backpack' | 'gorbag') => {
    await connect(walletType);
    if (!error) {
      onClose();
    }
  };

  return (
    <div className="fixed inset-0 z-50 flex items-center justify-center">
      {/* Backdrop */}
      <div 
        className="absolute inset-0 bg-black/80 backdrop-blur-sm"
        onClick={onClose}
      />
      
      {/* Modal */}
      <div className="relative bg-magic-dark border border-magic-green/30 p-6 max-w-sm w-full mx-4 animate-in zoom-in-95 duration-200">
        <button
          onClick={onClose}
          className="absolute top-4 right-4 text-gray-500 hover:text-white"
        >
          <X className="w-5 h-5" />
        </button>

        <div className="flex items-center gap-3 mb-6">
          <Trash2 className="w-6 h-6 text-magic-green" />
          <h2 className="text-xl font-bold text-white uppercase tracking-wide">Connect Wallet</h2>
        </div>

        <p className="text-gray-400 text-sm mb-6 font-mono">
          Connect your wallet to start trading trash on Gorbagana
        </p>

        {error && (
          <div className="mb-4 p-3 bg-red-500/10 border border-red-500/30 text-red-400 text-sm font-mono">
            {error}
          </div>
        )}

        <div className="space-y-3">
          {availableWallets.map((wallet) => (
            <button
              key={wallet.id}
              onClick={() => handleConnect(wallet.id as 'backpack' | 'gorbag')}
              disabled={isConnecting}
              className={`w-full flex items-center justify-between p-4 border transition-all duration-200 group ${
                wallet.installed
                  ? 'border-white/20 hover:border-magic-green hover:bg-magic-green/5'
                  : 'border-white/10 opacity-60'
              } ${isConnecting ? 'opacity-50 cursor-wait' : ''}`}
            >
              <div className="flex items-center gap-3">
                <span className="text-2xl">{wallet.icon}</span>
                <div className="text-left">
                  <div className="text-white font-bold uppercase tracking-wide group-hover:text-magic-green transition-colors">
                    {wallet.name}
                  </div>
                  <div className="text-xs text-gray-500 font-mono">
                    {wallet.installed ? 'Detected' : 'Not Installed'}
                  </div>
                </div>
              </div>
              {!wallet.installed && (
                <ExternalLink className="w-4 h-4 text-gray-500" />
              )}
            </button>
          ))}
        </div>

        <div className="mt-6 pt-4 border-t border-white/10">
          <p className="text-[10px] text-gray-600 font-mono uppercase text-center">
            Powered by {GORBAGANA_CONFIG.networkLabel}
          </p>
        </div>
      </div>
    </div>
  );
};

const Navbar: React.FC = () => {
  const [isMenuOpen, setIsMenuOpen] = useState(false);
  const [isWalletModalOpen, setIsWalletModalOpen] = useState(false);
  const [gps, setGps] = useState<number>(7842);
  const location = useLocation();
  const { networkName, tpsLabel, accentColor, explorerUrl } = useNetwork();
  const { connected, address, disconnect, formatAddress, balance } = useWallet();

  // Simulate Live Network Data (GPS - Gorbagana Per Second)
  useEffect(() => {
    const interval = setInterval(() => {
      setGps(prev => {
        const fluctuation = Math.floor(Math.random() * 400) - 200;
        let next = prev + fluctuation;
        // Gorbagana runs hot
        if (next > 9500) next = 9000;
        if (next < 6000) next = 6500;
        return Math.max(6000, next);
      });
    }, 800);
    return () => clearInterval(interval);
  }, []);

  const getNetworkStatus = (currentGps: number) => {
    if (currentGps > 8000) return { label: 'DUMPING', color: 'text-magic-green', bg: 'bg-magic-green' };
    if (currentGps > 7000) return { label: 'FLOWING', color: 'text-yellow-500', bg: 'bg-yellow-500' };
    return { label: 'CLOGGED', color: 'text-magic-red', bg: 'bg-magic-red' };
  };

  const status = getNetworkStatus(gps);

  const handleWalletClick = () => {
    if (connected) {
      disconnect();
    } else {
      setIsWalletModalOpen(true);
    }
  };

  const navLinks = [
    { name: 'Collections', path: '/' },
    { name: 'Launchpad', path: '/launchpad' },
    { name: 'Docs / Brand', path: '/docs' },
  ];

  return (
    <>
      <nav className="sticky top-0 z-50 bg-magic-dark border-b border-white/20">
        <div className="max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8">
          <div className="flex items-center justify-between h-16">
            {/* Logo */}
            <div className="flex-shrink-0 flex items-center gap-2">
              <Link to="/" className="flex items-center gap-2 group">
                <div className="bg-magic-green text-black p-1 transition-colors duration-500">
                  <Trash2 className="h-6 w-6" />
                </div>
                <span className="text-xl font-bold text-white tracking-tighter group-hover:text-magic-green transition-colors">
                  TRASHMARKET<span className="text-magic-green">.FUN</span>
                </span>
              </Link>
            </div>

            {/* Desktop Search */}
            <div className="hidden lg:flex flex-1 max-w-lg mx-8">
              <div className="relative w-full group">
                <div className="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                  <Search className="h-4 w-4 text-gray-500 group-hover:text-magic-green" />
                </div>
                <input
                  type="text"
                  className="block w-full pl-10 pr-3 py-2 border border-white/20 leading-5 bg-black text-white placeholder-gray-600 focus:outline-none focus:border-magic-green focus:ring-1 focus:ring-magic-green sm:text-sm transition-all duration-150 font-mono uppercase focus:text-magic-green"
                  placeholder="SEARCH_TRASH..."
                />
              </div>
            </div>

            {/* Desktop Menu & Network Status */}
            <div className="hidden md:flex items-center gap-6">
              <div className="hidden xl:flex items-center gap-6 mr-4">
                {navLinks.map((link) => (
                  <Link
                    key={link.name}
                    to={link.path}
                    className={`text-sm font-bold uppercase tracking-wide transition-colors hover:text-magic-green ${
                      location.pathname === link.path ? 'text-magic-green underline decoration-2 underline-offset-4' : 'text-gray-400'
                    }`}
                  >
                    {link.name}
                  </Link>
                ))}
              </div>
              
              {/* Network Indicator (Gorbagana Only) */}
              <a 
                href={explorerUrl}
                target="_blank"
                rel="noopener noreferrer"
                className="hidden lg:flex items-center gap-3 px-4 py-1 border-l border-r border-white/10 cursor-pointer hover:bg-white/5 transition-colors group"
                title="View on Trashscan"
              >
                <div className="flex flex-col items-end">
                  <span className="text-[9px] text-gray-500 uppercase tracking-widest font-mono mb-0.5 group-hover:text-white transition-colors">{networkName}</span>
                  <div className="flex items-center gap-2">
                    <span className={`w-1.5 h-1.5 rounded-full ${status.bg} animate-pulse`}></span>
                    <span className={`text-[10px] font-bold ${status.color} font-mono`}>{status.label}</span>
                  </div>
                </div>
                <div className="text-right">
                  <div className="text-[9px] text-gray-500 uppercase tracking-widest font-mono mb-0.5">{tpsLabel}</div>
                  <div className="text-xs font-bold text-white font-mono flex items-center gap-1">
                    {gps.toLocaleString()} <Activity className="w-3 h-3 text-gray-600" />
                  </div>
                </div>
              </a>

              {/* Wallet Button */}
              <button
                onClick={handleWalletClick}
                className={`flex items-center gap-2 px-6 py-2 border font-bold text-sm transition-all duration-200 uppercase tracking-wider ${
                  connected 
                    ? 'bg-black border-magic-green text-magic-green hover:bg-white/10' 
                    : 'bg-magic-green border-magic-green text-black hover:bg-black hover:text-magic-green'
                }`}
              >
                <Wallet className="w-4 h-4" />
                {connected && address ? (
                  <span className="flex items-center gap-2">
                    {formatAddress(address)}
                    {balance !== null && (
                      <span className="text-xs opacity-70">({balance.toFixed(2)} G)</span>
                    )}
                  </span>
                ) : (
                  'CONNECT'
                )}
              </button>
            </div>

            {/* Mobile menu button */}
            <div className="md:hidden flex items-center">
              <button
                onClick={() => setIsMenuOpen(!isMenuOpen)}
                className="inline-flex items-center justify-center p-2 text-magic-green hover:text-white hover:bg-white/10 focus:outline-none"
              >
                {isMenuOpen ? <X className="h-6 w-6" /> : <Menu className="h-6 w-6" />}
              </button>
            </div>
          </div>
        </div>

        {/* Mobile Menu */}
        {isMenuOpen && (
          <div className="md:hidden bg-black border-b border-white/20 animate-in slide-in-from-top-5 duration-200">
            <div className="px-2 pt-2 pb-3 space-y-1 sm:px-3">
              {/* Mobile Network Status */}
              <a 
                href={explorerUrl}
                target="_blank"
                rel="noopener noreferrer"
                className="flex items-center justify-between px-3 py-3 border-b border-white/10 mb-2 bg-white/5 active:bg-white/10"
              >
                <div className="flex items-center gap-2">
                  <Trash2 className="w-4 h-4 text-magic-green" />
                  <div className="flex flex-col">
                    <span className="text-xs font-mono text-gray-400 uppercase">Network</span>
                    <span className="text-[10px] font-bold uppercase text-magic-green">{networkName}</span>
                  </div>
                </div>
                <div className="flex items-center gap-3">
                  <div className="flex items-center gap-1.5">
                    <span className={`w-1.5 h-1.5 rounded-full ${status.bg} animate-pulse`}></span>
                    <span className={`text-xs font-bold ${status.color} font-mono`}>{status.label}</span>
                  </div>
                  <span className="text-xs font-bold text-white font-mono border-l border-white/20 pl-3">
                    {gps.toLocaleString()} {tpsLabel}
                  </span>
                </div>
              </a>

              {navLinks.map((link) => (
                <Link
                  key={link.name}
                  to={link.path}
                  onClick={() => setIsMenuOpen(false)}
                  className="block px-3 py-2 text-base font-bold text-gray-300 hover:text-magic-green hover:bg-white/5 uppercase font-mono"
                >
                  {link.name}
                </Link>
              ))}
              <button
                onClick={() => {
                  setIsMenuOpen(false);
                  handleWalletClick();
                }}
                className="w-full text-left mt-4 block px-3 py-2 text-base font-bold bg-magic-green text-black uppercase font-mono"
              >
                {connected && address ? formatAddress(address) : 'Connect Wallet'}
              </button>
            </div>
          </div>
        )}
      </nav>

      {/* Wallet Modal */}
      <WalletModal 
        isOpen={isWalletModalOpen} 
        onClose={() => setIsWalletModalOpen(false)} 
      />
    </>
  );
};

export default Navbar;
```

---

### 5. `src/App.tsx`

Update App.tsx to wrap the app with NetworkProvider and WalletProvider:

```tsx
import React from 'react';
import { BrowserRouter as Router, Routes, Route } from 'react-router-dom';
import { NetworkProvider } from './contexts/NetworkContext';
import { WalletProvider } from './contexts/WalletContext';
import Navbar from './components/Navbar';

// Import your page components
// import HomePage from './pages/HomePage';
// import LaunchpadPage from './pages/LaunchpadPage';
// import DocsPage from './pages/DocsPage';
// import CollectionPage from './pages/CollectionPage';

// Placeholder components (replace with your actual pages)
const HomePage = () => (
  <div className="min-h-screen bg-black text-white p-8">
    <h1 className="text-4xl font-bold text-magic-green mb-4">TRASHMARKET.FUN</h1>
    <p className="text-gray-400 font-mono">The premier NFT marketplace on Gorbagana</p>
  </div>
);

const LaunchpadPage = () => (
  <div className="min-h-screen bg-black text-white p-8">
    <h1 className="text-4xl font-bold text-magic-green mb-4">LAUNCHPAD</h1>
    <p className="text-gray-400 font-mono">Launch your trash collection</p>
  </div>
);

const DocsPage = () => (
  <div className="min-h-screen bg-black text-white p-8">
    <h1 className="text-4xl font-bold text-magic-green mb-4">DOCS / BRAND</h1>
    <p className="text-gray-400 font-mono">Documentation and brand assets</p>
  </div>
);

function App() {
  return (
    <NetworkProvider>
      <WalletProvider>
        <Router>
          <div className="min-h-screen bg-black">
            <Navbar />
            <main>
              <Routes>
                <Route path="/" element={<HomePage />} />
                <Route path="/launchpad" element={<LaunchpadPage />} />
                <Route path="/docs" element={<DocsPage />} />
                {/* Add more routes as needed */}
                {/* <Route path="/collection/:slug" element={<CollectionPage />} /> */}
              </Routes>
            </main>
          </div>
        </Router>
      </WalletProvider>
    </NetworkProvider>
  );
}

export default App;
```

---

## Key Changes Summary

1. **Network Toggle Removed** - No more switching between Solana and Gorbagana. The app is now Gorbagana-only.

2. **Currency Updated** - All references changed from GRB to GOR with display symbol "G".

3. **Performance Metric** - Changed from TPS to GPS (Gorbagana Per Second).

4. **Wallet Support** - Added support for:
   - Backpack Wallet (`window.backpack` or `window.backpack.gorbagana`)
   - Gorbag Wallet (`window.gorbag` or `window.gorbagWallet`)

5. **Features Implemented**:
   - Auto-reconnect on page refresh via localStorage
   - Balance fetching from RPC endpoint
   - Account change detection
   - Formatted address display (e.g., "5Gh7...xZ9k")
   - Wallet selection modal with install detection

6. **Explorer Integration** - Links to https://trashscan.io for transactions, addresses, and tokens.

---

## Tailwind CSS Colors Required

Make sure your `tailwind.config.js` includes these custom colors:

```js
module.exports = {
  theme: {
    extend: {
      colors: {
        'magic-green': '#00FF00', // or your preferred green
        'magic-red': '#FF0000',   // or your preferred red
        'magic-dark': '#0a0a0a',  // dark background
      },
    },
  },
}
```

---

## Dependencies

Make sure these are installed:
- `react-router-dom`
- `lucide-react`

```bash
npm install react-router-dom lucide-react
```

---

## File Structure

```
src/
â”œâ”€â”€ App.tsx
â”œâ”€â”€ contexts/
â”‚   â”œâ”€â”€ NetworkContext.tsx
â”‚   â””â”€â”€ WalletContext.tsx
â”œâ”€â”€ components/
â”‚   â””â”€â”€ Navbar.tsx
â””â”€â”€ utils/
    â””â”€â”€ gorbaganaRPC.ts
```